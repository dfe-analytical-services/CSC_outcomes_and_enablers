<script>
// Define dataLayer and the gtag function.
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}

// Default ad_storage to 'denied' as a placeholder
// Determine actual values based on your own requirements
gtag('consent', 'default', {
  'ad_storage': 'denied',
  'analytics_storage': 'denied'
});
</script>

<!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-Q13T4ENF6C"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}

    gtag('js', new Date());
    
/*
The tracking number below MUST be replaced with a unique number, contact the statistics development team to set this up. 
*/
  gtag('config', 'G-Q13T4ENF6C');
  

  $(document).on('click', 'ul#navlistPanel', function(e) {
    gtag('event', 'navlistPanel', {'event_category' : 'navbar click',
    'event_label' : document.querySelector('ul#navlistPanel > li.active > a').getAttribute('data-value')
    });
  });

  $(document).on('shiny:disconnected', function(e) {
    gtag('event', 'disconnect', { 
      'event_label' : 'Disconnect',
      'event_category' : 'Disconnect'
    });
  });

/*
Adding in custom google analytics tracking for the domain tabs
*/

  $(document).on('click', 'ul#outcome1_panels', function(e) {
    gtag('event', 'Outcome1 Domains', {'event_category' : 'O1 Domain clicks',
    'event_label' : document.querySelector(
    'ul#outcome1_panels > li.active > a'
    ).getAttribute('data-value')
    });
  });
  
  $(document).on('click', 'ul#outcome2_panels', function(e) {
    gtag('event', 'Outcome2 Domains', {'event_category' : 'O2 Domain clicks',
    'event_label' : document.querySelector(
    'ul#outcome2_panels > li.active > a'
    ).getAttribute('data-value')
    });
  });
  
  $(document).on('click', 'ul#outcome3_panels', function(e) {
    gtag('event', 'Outcome3 Domains', {'event_category' : 'O3 Domain clicks',
    'event_label' : document.querySelector(
    'ul#outcome3_panels > li.active > a'
    ).getAttribute('data-value')
    });
  });
  
  $(document).on('click', 'ul#outcome4_panels', function(e) {
    gtag('event', 'Outcome4 Domains', {'event_category' : 'O4 Domain clicks',
    'event_label' : document.querySelector(
    'ul#outcome4_panels > li.active > a'
    ).getAttribute('data-value')
    });
  });
 
 $(document).on('click', 'ul#enabler2_panels', function(e) {
    gtag('event', 'Enabler2 Domains', {'event_category' : 'E2 Domain clicks',
    'event_label' : document.querySelector(
    'ul#enabler2_panels > li.active > a'
    ).getAttribute('data-value')
    });
  });
  
  $(document).on('click', 'ul#enabler3_panels', function(e) {
    gtag('event', 'Enabler3 Domains', {'event_category' : 'E3 Domain clicks',
    'event_label' : document.querySelector(
    'ul#enabler3_panels > li.active > a'
    ).getAttribute('data-value')
    });
  });
  
/*
Adding google tracking to the filters for each page
*/
// Outcome 1 filters
  $(document).on('change', 'select#select_geography_o1', function(e) {
    gtag('event', 'O1 Geography lvl', {'event_category' : 'O1 Geography lvl',
    'event_label' : document.querySelector('select#select_geography_o1').value
    });
  });
  
  $(document).on('change', 'select#geographic_breakdown_o1', function(e) {
    gtag('event', 'O1 Geography breakdown', {'event_category' : 'O1 Geography breakdown',
    'event_label' : document.querySelector('select#geographic_breakdown_o1').value
    });
  });
  
// Outcome 2 filters
  $(document).on('change', 'select#select_geography_o2', function(e) {
    gtag('event', 'O2 Geography lvl', {'event_category' : 'O2 Geography lvl',
    'event_label' : document.querySelector('select#select_geography_o2').value
    });
  });
  
  $(document).on('change', 'select#geographic_breakdown_o2', function(e) {
    gtag('event', 'O2 Geography breakdown', {'event_category' : 'O2 Geography breakdown',
    'event_label' : document.querySelector('select#geographic_breakdown_o2').value
    });
  });
  
// Outcome 3 filters
  $(document).on('change', 'select#select_geography_o3', function(e) {
    gtag('event', 'O3 Geography lvl', {'event_category' : 'O3 Geography lvl',
    'event_label' : document.querySelector('select#select_geography_o3').value
    });
  });

  $(document).on('change', 'select#geographic_breakdown_o3', function(e) {
    gtag('event', 'O3 Geography breakdown', {'event_category' : 'O3 Geography breakdown',
    'event_label' : document.querySelector('select#geographic_breakdown_o3').value
    });
  });
  
// Outcome 4 filters
  $(document).on('change', 'select#select_geography_o4', function(e) {
    gtag('event', 'O4 Geography lvl', {'event_category' : 'O4 Geography lvl',
    'event_label' : document.querySelector('select#select_geography_o4').value
    });
  });
  
  $(document).on('change', 'select#geographic_breakdown_o4', function(e) {
    gtag('event', 'O4 Geography breakdown', {'event_category' : 'O4 Geography breakdown',
    'event_label' : document.querySelector('select#geographic_breakdown_o4').value
    });
  });
  
// Enabler 2 filters
  $(document).on('change', 'select#select_geography_e2', function(e) {
    gtag('event', 'E2 Geography lvl', {'event_category' : 'E2 Geography lvl',
    'event_label' : document.querySelector('select#select_geography_e2').value
    });
  });
  
  $(document).on('change', 'select#geographic_breakdown_e2', function(e) {
    gtag('event', 'E2 Geography breakdown', {'event_category' : 'E2 Geography breakdown',
    'event_label' : document.querySelector('select#geographic_breakdown_e2').value
    });
  });

// Enabler 3 filters
  $(document).on('change', 'select#select_geography_e3', function(e) {
    gtag('event', 'E3 Geography lvl', {'event_category' : 'E3 Geography lvl',
    'event_label' : document.querySelector('select#select_geography_e3').value
    });
  });
  
  $(document).on('change', 'select#geographic_breakdown_e3', function(e) {
    gtag('event', 'E3 Geography breakdown', {'event_category' : 'E3 Geography breakdown',
    'event_label' : document.querySelector('select#geographic_breakdown_e3').value
    });
  });
  
  
/*
Accordion Google analytics tracking
*/


  
</script>
      

